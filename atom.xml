<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ²¡æœ‰è‰çš„è‰å±‹</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://oahgnehzoul.github.io/"/>
  <updated>2016-12-04T08:33:33.000Z</updated>
  <id>https://oahgnehzoul.github.io/</id>
  
  <author>
    <name>oahgnehzoul</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ­»å®…çš„å‘¨æœ«ç”Ÿæ´»</title>
    <link href="https://oahgnehzoul.github.io/2016/12/04/%E6%AD%BB%E5%AE%85%E7%9A%84%E5%91%A8%E6%9C%AB%E7%94%9F%E6%B4%BB/"/>
    <id>https://oahgnehzoul.github.io/2016/12/04/æ­»å®…çš„å‘¨æœ«ç”Ÿæ´»/</id>
    <published>2016-12-04T07:08:00.000Z</published>
    <updated>2016-12-04T08:33:33.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://lh3.googleusercontent.com/-dunwNoDCeqU/WEPLw3xMZII/AAAAAAAAAJg/KdZ_nBmzqps/I/14808364902851.jpg" width="300"></p>
<p>ç»™ç½‘ç«™æ·»åŠ äº†ä¸€ä¸‹ğŸ”ï¼Œçœ‹ç€ç¾è§‚äº†ä¸€äº›ã€‚</p>
<p>å‘¨æœ«åˆè¦è¿‡å»äº†ï¼Œè™½ç„¶è¿™å‘¨åªæœ‰ä¸€å¤©ã€‚ã€‚ğŸ˜”</p>
<p>æœ‰æ—¶å€™å¥½åƒåˆä¸çŸ¥é“ç”Ÿæ´»ä¸‹å»çš„åŠ¨åŠ›åœ¨å“ªé‡Œäº†ã€‚è¿™æ˜¯ä¸æ˜¯æŠ‘éƒç—‡äº†ã€‚ã€‚<br>æ²¡æ‰“ç®—å»æƒ³ä¹Ÿæƒ³ä¸åˆ°å‘¨æœ«å¯ä»¥å»åšå“ªäº›æœ‰æ„æ€çš„äº‹ã€‚<br>åƒæˆ‘è¿™æ ·çš„æ­»å®…æ€ä¹ˆåŠğŸ˜<br>æœ‰æ—¶å€™ä¼šçªç„¶ä¸çŸ¥é“åŠ¨åŠ›åœ¨å“ªï¼Ÿ</p>
<p>æœ€è¿‘ä¼šçœ‹çš„ä¸€äº›ä¸œè¥¿ï¼Œã€Šç«æ˜Ÿæƒ…æŠ¥å±€ã€‹çœŸçš„æŒºæ£’çš„ï¼Œèƒ½è®©äººå¼€å¿ƒä¸€ä¸‹ã€‚<br>ã€Šæ³•åŒ»ç§¦æ˜ã€‹ä¸€å¼€å§‹æŒºå¸å¼•çš„ï¼Œæ„Ÿè§‰ç»“å±€çœŸçš„çƒ‚å°¾äº†å•Šï¼Œæœ‰ç‚¹ç‹—è¡€ğŸ¶çš„ã€‚å¤±æœ›ğŸ˜”..<br>å¯¹äº†ï¼Œè¿™å‘¨ç«å½±ç»ˆäºæ›´æ–°äº†ï¼Œboomboomboom ..ğŸ’¥<br><img src="https://s-media-cache-ak0.pinimg.com/originals/d2/1a/62/d21a6243476628f2101d4958496b61d0.jpg" alt=""></p>
<p>å·¥ä½œä¸Šçš„å¥½åƒæ²¡ä»€ä¹ˆå¯è¯´çš„ğŸ˜·</p>
<p>å‘€ï¼Œæœ‰æ—¶å€™ä¸é‚£ä¹ˆå¼€å¿ƒçš„æ—¶å€™éœ€è¦ç»™è‡ªå·±æ‰¾ç‚¹ä¹å­ã€‚</p>
<p>è¦ç›¸ä¿¡æ˜å¤©æ˜¯ç¾å¥½çš„ä¸€å¤©ã€‚</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="52" src="http://music.163.com/outchain/player?type=2&id=28160230&auto=1&height=32"></iframe>


]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://lh3.googleusercontent.com/-dunwNoDCeqU/WEPLw3xMZII/AAAAAAAAAJg/KdZ_nBmzqps/I/14808364902851.jpg&quot; width=&quot;300&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç»™ç½‘
    
    </summary>
    
      <category term="weekly note" scheme="https://oahgnehzoul.github.io/categories/weekly-note/"/>
    
    
      <category term="ç”Ÿæ´»çè®°" scheme="https://oahgnehzoul.github.io/tags/%E7%94%9F%E6%B4%BB%E7%90%90%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Xcode ä¸­æ·»åŠ  pch æ–‡ä»¶çš„è®¾ç½®</title>
    <link href="https://oahgnehzoul.github.io/2016/11/12/Xcode-%E4%B8%AD%E6%B7%BB%E5%8A%A0-pch-%E6%96%87%E4%BB%B6%E7%9A%84%E5%8F%98%E5%8C%96/"/>
    <id>https://oahgnehzoul.github.io/2016/11/12/Xcode-ä¸­æ·»åŠ -pch-æ–‡ä»¶çš„å˜åŒ–/</id>
    <published>2016-11-12T08:12:53.000Z</published>
    <updated>2016-11-13T13:00:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰“å¼€ Xcodeï¼ŒCommand+N ç„¶åçœ‹åˆ°<br><img src="https://lh3.googleusercontent.com/-6Bfd4GgvAmE/WCboD3WU5ZI/AAAAAAAAAJI/-V1ofd2GIpM/I/14789388407123.jpg" alt=""><br>é€‰æ‹© PCH Fileï¼Œnext<br>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ pch æ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›éœ€è¦ç»å¸¸ç”¨åˆ°çš„å¤´æ–‡ä»¶åï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦Build Setting ä¸­è®¾ç½®è·¯å¾„æ‰èƒ½ä½¿ç”¨ pch æ–‡ä»¶ï¼Œ<br><img src="https://lh3.googleusercontent.com/-O2Xc496VZgA/WCboEQxdYcI/AAAAAAAAAJM/5CRAYOXJei0/I/14789396492010.jpg" alt=""><br>éœ€è¦åœ¨ <code>Build Setting</code> ä¸­çš„ <code>Prefix Header</code> åé¢è®¾ç½®è·¯å¾„ï¼Œ<br>ä¹‹å‰çš„æ—¶å€™ï¼Œè®°å¾—è®¾ç½®çš„æ˜¯ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚<code>$(SRCROOT)/å·¥ç¨‹å/pch æ–‡ä»¶å</code>ï¼Œç„¶åå°±è‡ªåŠ¨è½¬åŒ–æˆäº†<code>/Users/ç”¨æˆ·å/å·¥ç¨‹è·¯å¾„/å·¥ç¨‹å/pch æ–‡ä»¶å</code>ï¼Œæ¯”å¦‚æœ‰å¤šäººåŒæ—¶å¼€å‘ï¼Œè·¯å¾„æ˜¯ä¸åŒçš„;<br>ç°åœ¨è¿™ä¹ˆåšä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ‰å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œè®¾ç½®ç›¸å¯¹è·¯å¾„å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚å·¥ç¨‹å/pch æ–‡ä»¶åã€‚<br>ä»ä¸Šé¢ä¹Ÿæ˜¯å¯ä»¥çœ‹å‡ºæ¥<code>$(SRCROOT)</code>æ˜¯å¯ä»¥è·å–åˆ°å·¥ç¨‹çš„ç»å¯¹è·¯å¾„çš„ï¼Œä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬è®¾ç½®ç›¸å¯¹è·¯å¾„å°±å¯ä»¥äº†å§ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆéœ€è¦æˆ‘ä»¬åšè¿™ä¸€æ­¥å‘¢ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥é»˜è®¤è®¾ç½®äº†ï¼Ÿä¸å¤ªæ¸…æ¥šã€‚</p>
<p>ä¸Šé¢çš„ <code>Precompile Prefix Header</code> é€‰é¡¹å¯ä»¥ç¼“å­˜ pch æ–‡ä»¶ï¼Œæé«˜ç¼–è¯‘é€Ÿåº¦ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰“å¼€ Xcodeï¼ŒCommand+N ç„¶åçœ‹åˆ°&lt;br&gt;&lt;img src=&quot;https://lh3.googleusercontent.com/-6Bfd4GgvAmE/WCboD3WU5ZI/AAAAAAAAAJI/-V1ofd2GIpM/I/14789388407123.
    
    </summary>
    
      <category term="Xcode" scheme="https://oahgnehzoul.github.io/categories/Xcode/"/>
    
    
      <category term="PCH" scheme="https://oahgnehzoul.github.io/tags/PCH/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ OC ä¸­çš„runtime</title>
    <link href="https://oahgnehzoul.github.io/2016/11/10/%E7%90%86%E8%A7%A3-OC%E4%B8%AD%E7%9A%84runtime/"/>
    <id>https://oahgnehzoul.github.io/2016/11/10/ç†è§£-OCä¸­çš„runtime/</id>
    <published>2016-11-10T05:58:38.000Z</published>
    <updated>2016-11-13T14:43:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬å¯ä»¥ä»<code>https://opensource.apple.com/tarballs/objc4/</code>ä¸‹è½½åˆ°æœ€æ–°çš„<code>runtime</code>æºç ã€‚<br>ç›®å‰ï¼Œæœ€æ–°çš„æ˜¯<code>objc4-706.tar.gz</code>å‹ç¼©åŒ…ã€‚<br>æ‰“å¼€å·¥ç¨‹åï¼Œç›®å½•æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">objc--</div><div class="line">-<span class="ruby">-Public Headers</span></div><div class="line">-<span class="ruby">-Private Headers</span></div><div class="line">-<span class="ruby">-Project Headers</span></div><div class="line">-<span class="ruby">-Obsolete Headers</span></div><div class="line">-<span class="ruby">-Obsolete Source</span></div><div class="line">-<span class="ruby">-Souce</span></div><div class="line">-<span class="ruby">-Other</span></div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/// A pointer to the function of a method implementation. </span></div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> !OBJC_OLD_DISPATCH_PROTOTYPES</span></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*IMP)</span><span class="params">(<span class="keyword">void</span> <span class="comment">/* id, SEL, ... */</span> )</span></span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">else</span></span></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">id</span> <span class="params">(*IMP)</span><span class="params">(id, SEL, ...)</span></span>; </div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
<p>IMPæ˜¯æŒ‡å‘æ–¹æ³•å®ç°çš„æŒ‡é’ˆã€‚<br>ä¸€äº› runtime å¸¸ç”¨çš„æ–¹æ³•ï¼š<br>1.è¿”å› SEL çš„æ–¹æ³•å<br>const char <em>sel_getName(SEL sel) / SELNAME(sel)<br>2.æ ¹æ® SEL æ³¨å†Œæ–¹æ³•<br>SEL sel_registerName(const char </em>str) / NAMEOF(obj)<br>3.æ ¹æ® obj å¯¹è±¡è·å– obj çš„ className<br>const char *object_getClassName(id obj)</p>
<p>typedef struct objc_class <em>Class;<br>struct objc_object {<br>    Class isa;<br>}<br>typedef struct objc_object </em>id;<br>typedef struct objc_selector *SEL;</p>
<p>åœ¨<strong>Public Headers/objc.h</strong> ä¸­objc_objectç»“æ„ä½“æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_object</span> </span>&#123;</div><div class="line">    Class isa;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨ <strong>Project Headers/objc-private.h</strong> ä¸­çš„ objc_objectç»“æ„ä½“ï¼š<br>// å¯¹è±¡çš„ç»“æ„ä½“</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> objc_object &#123;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">isa_t</span> isa;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function">Class <span class="title">ISA</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">Class <span class="title">getIsa</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initIsa</span><span class="params">(Class cls)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initClassIsa</span><span class="params">(Class cls)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initProtocolIsa</span><span class="params">(Class cls)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initInstanceIsa</span><span class="params">(Class cls, <span class="keyword">bool</span> hasCxxDtor)</span></span>;</div><div class="line">    <span class="function">Class <span class="title">changeIsa</span><span class="params">(Class newCls)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasNonpointerIsa</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isTaggedPointer</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isBasicTaggedPointer</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isExtTaggedPointer</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isClass</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasAssociatedOjects</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasAssociatedObjects</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isWeaklyReferenced</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setWeaklyReferenced_nolock</span><span class="params">()</span></span>;</div><div class="line">    <span class="comment">// have -.cxx_destruct </span></div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCxxDtor</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">id <span class="title">retain</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">release</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">id <span class="title">autorelease</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">id <span class="title">rootRetain</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">rootRelease</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">id <span class="title">rootAutorelease</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">rootTryRetain</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">rootReleaseShouldDealloc</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">uintptr_t</span> rootRetainCount();</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">rootIsDeallocating</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clearDeallocating</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rootDealloc</span><span class="params">()</span></span>;</div><div class="line">Private:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initIsa</span><span class="params">(Class newCls, <span class="keyword">bool</span> nonpointer, <span class="keyword">bool</span> hasCxxDtor)</span></span>;</div><div class="line">    <span class="function">id <span class="title">rootAutorelease2</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">overrelease_error</span><span class="params">()</span></span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> Support_nonpointer_isa</span></div><div class="line">...</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">...</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">if</span> __OBJC2__</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="keyword">method_t</span> *Method;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="keyword">ivar_t</span> *Ivar;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="keyword">category_t</span> *Category;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="keyword">property_t</span> *<span class="keyword">objc_property_t</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">else</span></span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> old_method *Method;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> old_ivar *Ivar;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> old_category *Category;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> old_property *<span class="keyword">objc_property_t</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
<p>åœ¨ OC 2.0ä»¥åï¼Œæœ‰å¾ˆå¤šå˜åŒ–ï¼Œ<br>åœ¨ <strong>Project Headers/objc-runtime-new.h</strong>ä¸­ï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> <span class="keyword">method_t</span> &#123;</div><div class="line">    SEL name;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> types;</div><div class="line">    IMP imp;</div><div class="line">    <span class="keyword">struct</span> SortBySELAddress :</div><div class="line">        <span class="keyword">public</span> <span class="built_in">std</span>::binary_function&lt;<span class="keyword">const</span> <span class="keyword">method_t</span>&amp;,<span class="keyword">const</span> <span class="keyword">method_t</span>&amp;,<span class="keyword">bool</span>&gt; &#123;</div><div class="line">            <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">method_t</span> lhs, <span class="keyword">const</span> <span class="keyword">method_t</span>&amp; rhs)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> lhs.name &lt; rhs.name;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="keyword">ivar_t</span> &#123;</div><div class="line">    <span class="keyword">int32_t</span> *offset;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *name;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *type;</div><div class="line">    <span class="keyword">uint32_t</span> alignment_raw;</div><div class="line">    <span class="keyword">uint32_t</span> size;</div><div class="line">    <span class="keyword">uint32_t</span> alignment() <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (alignment_raw == ~(<span class="keyword">uint32_t</span>)<span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1U</span> &lt;&lt; WORD_SHIFT;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span> &lt;&lt; alignment_raw;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="keyword">category_t</span> &#123;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *name;</div><div class="line">    <span class="keyword">classref_t</span> cls;</div><div class="line">    <span class="keyword">struct</span> <span class="keyword">method_list_t</span> *instanceMethod;</div><div class="line">    <span class="keyword">struct</span> <span class="keyword">method_list_t</span> *classMethods;</div><div class="line">    <span class="keyword">struct</span> <span class="keyword">protocol_list_t</span> *protocols;</div><div class="line">    <span class="keyword">struct</span> <span class="keyword">property_list_t</span> *instanceProperties;</div><div class="line">    <span class="keyword">struct</span> <span class="keyword">property_list_t</span> *<span class="number">_</span>classProperties;</div><div class="line">    <span class="keyword">method_list_t</span> *methodsForMeta(<span class="keyword">bool</span> isMeta) &#123;</div><div class="line">        <span class="keyword">if</span>(isMeta)</div><div class="line">            <span class="keyword">return</span> classMethods;</div><div class="line">        <span class="keyword">else</span> </div><div class="line">            <span class="keyword">return</span> instanceMethods;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">property_list_t</span> *propertiesForMeta(<span class="keyword">bool</span> isMeta, <span class="keyword">struct</span> header_info *hi);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="keyword">property_t</span> &#123;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *name;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *attributes;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Class çš„å®šä¹‰</span></div><div class="line"><span class="keyword">struct</span> objc_class : objc_object &#123;</div><div class="line">    Class superclass;</div><div class="line">    <span class="keyword">cache_t</span> cache;</div><div class="line">    <span class="keyword">class_data_bits_t</span> bits;</div><div class="line">    <span class="keyword">class_rw_t</span> *data() &#123;</div><div class="line">        <span class="keyword">return</span> bits.data();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setData</span><span class="params">(<span class="keyword">class_rw_t</span> *newData)</span> </span>&#123;</div><div class="line">        bits.setData(newData);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInfo</span><span class="params">(<span class="keyword">uint32_t</span> <span class="built_in">set</span>)</span> </span>&#123;</div><div class="line">        assert(isFuture() || isRealized());</div><div class="line">        data()-&gt;setFlags(<span class="built_in">set</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clearInfo</span><span class="params">(<span class="keyword">uint32_t</span> clear)</span> </span>&#123;</div><div class="line">        assert(isFuture() || isRealized());</div><div class="line">        data()-&gt;clearFlags(clear);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeInfo</span><span class="params">(<span class="keyword">uint32_t</span> <span class="built_in">set</span>, <span class="keyword">uint32_t</span> clear)</span> </span>&#123;</div><div class="line">        assert(isFuture() || isRealized());</div><div class="line">        assert((<span class="built_in">set</span> &amp; clear) == <span class="number">0</span>);</div><div class="line">        data()-&gt;changeFlags(<span class="built_in">set</span>, clear);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCustomRR</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> !bits.hasDefaultRR();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasDefaultRR</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(isInitializing());</div><div class="line">        bits.setHasDefaultRR();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasCustomRR</span><span class="params">(<span class="keyword">bool</span> inherited = <span class="literal">false</span>)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printCustomRR</span><span class="params">(<span class="keyword">bool</span> inherited)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCustomAWZ</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> !bits.hasDefaultAWZ();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasCustomAWZ</span><span class="params">(<span class="keyword">bool</span> inherited = <span class="literal">false</span>)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printCustomAWZ</span><span class="params">(<span class="keyword">bool</span> inherited)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">instancesRequireRawIsa</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> bits.instancesRequireRawIsa();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInstanceRequireRawIsa</span><span class="params">(<span class="keyword">bool</span> iinherited)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInstanceRequireRawIsa</span><span class="params">(<span class="keyword">bool</span> inherited)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canAllocNonpointer</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(!isFuture());</div><div class="line">        <span class="keyword">return</span> !instancesRequireRawIsa();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canAllocFast</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(!isFuture());</div><div class="line">        <span class="keyword">return</span> bits.canAllocFast();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCxxCtor</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(!isRealized());</div><div class="line">        <span class="keyword">return</span> bits.hasCxxCtor();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasCxxCtor</span><span class="params">()</span> </span>&#123;</div><div class="line">        bits.setHasCxxCtor();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCxxDtor</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">return</span> bits.hasCxxDtor();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHasCxxDtor</span><span class="params">()</span> </span>&#123;</div><div class="line">        bits.setHasCxxDtor();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSwift</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> bits.isSwift();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasAutomaticIvars</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> data()-&gt;ro-&gt;flags &amp; (RO_IS_ARC | RO_HAS_WEAK_WITHOUT_ARC);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isARC</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> data()-&gt;ro-&gt;flags &amp; RO_IS_ARC;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">instancesHaveAssociatedObjects</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(isFuture() || isRealized());</div><div class="line">        <span class="keyword">return</span> data()-&gt;flags &amp; RW_INSTANCES_HAVE_ASSOCIATED_OBJECTS;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInstancesHaveAssociatedObjects</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(isFuture() || isRealized());</div><div class="line">        setInfo(RW_INSTANCES_HAVE_ASSOCIATED_OBJECTS);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">shouldGrowCache</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setShouldGrowCache</span><span class="params">(<span class="keyword">bool</span>)</span> </span>&#123;</div><div class="line">        <span class="comment">//fixme good or bad for memory use?</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isInitializing</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getMeta-&gt;data()-&gt;flags &amp; RW_INITIALIZING;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInitializing</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(!isMetaClass());</div><div class="line">        ISA()-&gt;setInfo(RW_INITIALIZING);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isInitialized</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> getMeta()-&gt;data()-&gt;falgs &amp; RW_INITIALIZED;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInitialized</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isLoadable</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function">IMP <span class="title">getLoadMethod</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isRealized</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> data()-&gt;falgs &amp; RW_REALIZED;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isFuture</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> data()-&gt;flags &amp; RW_TUTURE;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isMetaClass</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(<span class="keyword">this</span>);</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">return</span> data()-&gt;ro-&gt;flags &amp; RO_META;  </div><div class="line">    &#125;</div><div class="line">    <span class="function">Class <span class="title">getMeta</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(isMetaClass())</div><div class="line">            <span class="keyword">return</span> (Class)<span class="keyword">this</span>;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>-&gt;ISA();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isRootClass</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> superclass == nil;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isRootMetaClass</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> ISA() == (Class)<span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">const</span> <span class="keyword">char</span> *<span class="title">mangledName</span><span class="params">()</span> </span>&#123;</div><div class="line">        assert(<span class="keyword">this</span>);</div><div class="line">        <span class="keyword">if</span>(isRealized() || isFuture()) &#123;</div><div class="line">            <span class="keyword">return</span> data()-&gt;ro-&gt;name;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> ((<span class="keyword">const</span> class_ro-t *)data())-&gt;name;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">const</span> <span class="keyword">char</span> *<span class="title">demangledName</span><span class="params">(<span class="keyword">bool</span> realize = <span class="literal">false</span>)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">const</span> <span class="keyword">char</span> *<span class="title">nameForLogging</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">uint32_t</span> unalignedInstanceStart() &#123;</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">return</span> data()-&gt;ro-&gt;instanceStart;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">uint32_t</span> alignedInstanceStart() &#123;</div><div class="line">        <span class="keyword">return</span> word_align(unalignedInstanceStart());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">uint32_t</span> unalignedInstanceSize() &#123;</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">return</span> data()-&gt;ro-&gt;instanceSize;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">size_t</span> instanceSize(<span class="keyword">size_t</span> extraBytes) &#123;</div><div class="line">        <span class="keyword">size_t</span> size = alignedInstanceSize() + extraBytes;</div><div class="line">        <span class="keyword">if</span>(size &lt; <span class="number">16</span>)</div><div class="line">            size = <span class="number">16</span>;</div><div class="line">        <span class="keyword">return</span> size;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setInstanceSize</span><span class="params">(<span class="keyword">uint32_t</span> newSize)</span> </span>&#123;</div><div class="line">        assert(isRealized());</div><div class="line">        <span class="keyword">if</span>(newSize != data()-&gt;ro-&gt;instanceSize) &#123;</div><div class="line">            assert(data()-&gt;flags &amp; RW_COPIED_RO);</div><div class="line">            *<span class="keyword">const_cast</span>&lt;<span class="keyword">uint32_t</span> *&gt;(&amp;data()-&gt;ro-&gt;instanceSize) = newSize;</div><div class="line">        &#125;</div><div class="line">        bits.setFastInstanceSize(newSize);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setClassArrayIndex</span><span class="params">(<span class="keyword">unsigned</span> Idx)</span> </span>&#123;</div><div class="line">        bits.setClassArrayIndex(Idx);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">unsigned</span> <span class="title">classArrayIndex</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> bits.classArrayIndex();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> objc_super2 &#123;</div><div class="line">    id receiver;</div><div class="line">    Class current_class;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨ <strong>Public Headers/runtime.h</strong>ä¸­</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> objc_method_description &#123;</div><div class="line">    SEL name;</div><div class="line">    <span class="keyword">char</span> *types; <span class="comment">//methods arguments types</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *name;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *value; <span class="comment">//usually empty</span></div><div class="line">&#125; objc_property_attribute_t;</div><div class="line"></div><div class="line"><span class="comment">/* Working with Instances */</span></div><div class="line"><span class="keyword">id</span> object_copy(<span class="keyword">id</span> obj, size_t size);</div><div class="line"></div><div class="line"><span class="keyword">id</span> object_dispose(<span class="keyword">id</span> obj);</div><div class="line"></div><div class="line">Class object_getClass(<span class="keyword">id</span> obj);</div><div class="line"></div><div class="line">Class object_setClass(<span class="keyword">id</span> obj, Class cls);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> object_isClass(<span class="keyword">id</span> obj);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *object_getClassName(<span class="keyword">id</span> obj);</div><div class="line"></div><div class="line"><span class="keyword">id</span> object_getIvar(<span class="keyword">id</span> obj, Ivar ivar)</div><div class="line"><span class="comment">// set instance var value:(Instance variables with unknown memory management are assigned as if they were unsafe_unretained.)</span></div><div class="line"><span class="keyword">void</span> object_setIvar(<span class="keyword">id</span> obj, Ivar ivar, <span class="keyword">id</span> value);</div><div class="line"><span class="comment">// (Instance variables with unknown memory management are assigned as if they were strong)</span></div><div class="line"><span class="keyword">void</span> object_setIvarWithStrongDefault(<span class="keyword">id</span> obj, Ivar ivar, <span class="keyword">id</span> value);</div><div class="line"></div><div class="line"><span class="comment">/* Obtaining Class Definitions */</span></div><div class="line">Class objc_getClass(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Class objc_getMetaClass(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Class objc_lookUpClass(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Class objc_getRequiredClass(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line"><span class="keyword">int</span> objc_getClassList(Class *buffer, <span class="keyword">int</span> bufferCount);</div><div class="line"></div><div class="line">Class *objc_copyClassList(<span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Classes */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *class_getName(Class cls);</div><div class="line"></div><div class="line">Bool class_isMetaClass(Class cls);</div><div class="line"></div><div class="line"><span class="keyword">int</span> class_getVersion(Class cls);</div><div class="line"></div><div class="line"><span class="keyword">void</span> class_setVersion(Class cls, <span class="keyword">int</span> version);</div><div class="line"></div><div class="line">size_t class_getInstanceSize(Class cls);</div><div class="line"></div><div class="line">Ivar class_getInstanceVariable(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Ivar class_getClassVariable(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Ivar *class_copyIvarList(Class cls, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line">Method class_getInstanceMethod(Class cls, SEL name);</div><div class="line"></div><div class="line">Method class_getClassMethod(Class cls, SEL name);</div><div class="line"></div><div class="line">IMP class_getMethodImplementation(Class cls, SEL name);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_respondsToSelector(Class cls, SEL sel);</div><div class="line"></div><div class="line">Method *class_copyMethodList(Class cls, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_conformsToProtool(Class cls, Protocol *protocol);</div><div class="line"></div><div class="line">Protocol * __<span class="keyword">unsafe_unretained</span> *class_copyProtocolList(Class cls, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line">objc_property_t class_getProperty(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">objc_property_t *class_copyPropertyList(Class cls, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="keyword">const</span> uint8_t *class_getIvarLayout(Class cls);</div><div class="line"></div><div class="line"><span class="keyword">const</span> uint8_t *class_getWeakIvarLayout(Class cls);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_addMethod(Class cls, SEL name, IMP imp, <span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">IMP class_replaceMethod(Class cls, SEL name, IMP imp, <span class="keyword">const</span> <span class="keyword">char</span> *types);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_addIvar(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name, sizet_t size, uint8_t alignment, <span class="keyword">const</span> <span class="keyword">char</span> *types);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_addProtocol(Class cls ,Protocol *protocol);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> class_addProperty(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> objc_propety_attrbute_t *attributes, <span class="keyword">unsigned</span> <span class="keyword">int</span> attributeCount);</div><div class="line"></div><div class="line"><span class="keyword">void</span> class_repalceProperty(Class cls, <span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> objc_property_attribute_t *attributes, <span class="keyword">unsigned</span> <span class="keyword">int</span> attributeCount);</div><div class="line"></div><div class="line"><span class="keyword">void</span> class_setIvarLayout(Class cls, <span class="keyword">const</span> uint8_t *layout);</div><div class="line"></div><div class="line"><span class="keyword">void</span> class_setWeakIvarLayout(Class cls, <span class="keyword">const</span> uint8_t *layout);</div><div class="line"></div><div class="line"><span class="comment">/* Adding Classes */</span></div><div class="line">Class objc_allocateClassPair(Class superclass, <span class="keyword">const</span> <span class="keyword">char</span> *name, size_t sxtraBytes);</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_registerClassPair(Class cls);</div><div class="line"></div><div class="line">Class objc_duplicateClass(Class original, <span class="keyword">const</span> <span class="keyword">char</span> *name, size_t extraBypes);</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_disposeClassPair(Class cls);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Methods */</span></div><div class="line">SEL method_getName(Method m);</div><div class="line"></div><div class="line">IMP method_getImplementation(Method m);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *method_getTypeEncoding(Method m);</div><div class="line"></div><div class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> method_getNumberOfArguments(Method m);</div><div class="line"></div><div class="line"><span class="keyword">char</span> *method_copyReturnType(Method m);</div><div class="line"></div><div class="line"><span class="keyword">char</span> *method_copyArgumentType(Method m, <span class="keyword">unsigned</span> <span class="keyword">int</span> index);</div><div class="line"></div><div class="line"><span class="keyword">void</span> method_getReturnType(Method m, <span class="keyword">char</span> *dst, size_t dst_len);</div><div class="line"></div><div class="line"><span class="keyword">void</span> method_getArgumentType(Method m, <span class="keyword">unsigned</span> <span class="keyword">int</span> index, <span class="keyword">char</span> *dst, size_t dst_len);</div><div class="line"></div><div class="line"><span class="keyword">struct</span> objc_method_description *method_getDescription(Method m);</div><div class="line"></div><div class="line">IMP method_setImplementation(Method m, IMP imp);</div><div class="line"></div><div class="line"><span class="keyword">void</span> method_exchangeImplementations(Method m1, Method m2);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Instance Variables */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *ivar_getName(Ivar v);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *ivar_getTypeEncoding(Ivar v);</div><div class="line"></div><div class="line">ptrdiff_t ivar_getOffset(Ivar v);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Properties */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *property_getName(objc_property_t property);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *property_getAttributes(objc_property_t property);</div><div class="line"></div><div class="line">objc_property_attribute_t *property_copyAttributeList(objc_property_t property, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="keyword">char</span> *property_copyAttributeValue(objc_property_t property, <span class="keyword">const</span> <span class="keyword">char</span> *attributeName);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Protocols */</span></div><div class="line">Protocol *objc_getProtocol(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line">Protocol * __<span class="keyword">unsafe_unretained</span> *objc_copyProtocolList(<span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> protocol_conformsToProtocol(Protocol *proto, Protocol *other);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> protocol_isEqual(Protocol *proto, Protocol *other);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *protocol_getName(Protocol *p);</div><div class="line"></div><div class="line"><span class="keyword">struct</span> objc_method_description protocol_getMethodDescription(Protocol *p, SEL aSel, <span class="built_in">BOOL</span> isRequiredMethod, <span class="built_in">BOOL</span> isInstanceMethod);</div><div class="line"></div><div class="line"><span class="keyword">struct</span> objc_method_description *protocol_copyMethodDescriptionList(Protocol *p, <span class="built_in">BOOL</span> isRequiredMethod, <span class="built_in">BOOL</span> inInstanceMethod, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line">objc_property_t protocol_getProperty(Protocol *proto, <span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="built_in">BOOL</span> isRequiredProperty, <span class="built_in">BOOL</span> isInstanceProperty);</div><div class="line"></div><div class="line">objc_property_t *protocol_copyPropertyList(Protocol *proto, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line">objc_property_t *protocol_copyPropertyList2(Protocol *proto, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount, <span class="built_in">BOOL</span> isRequiredProperty, <span class="built_in">BOOL</span> isInstanceProperty);</div><div class="line"></div><div class="line">Protocol * __<span class="keyword">unsafe_unretained</span> *protocol_copyProtocolList(Protocol *proto, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line">Protocol *objc_allocateProtocol(<span class="keyword">const</span> <span class="keyword">char</span> *name);</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_registerProtocol(Protocol *proto);</div><div class="line"></div><div class="line"><span class="keyword">void</span> protocol_addMethodDescription(Protocol *proto, SEL name, <span class="keyword">const</span> <span class="keyword">char</span> *types, <span class="built_in">BOOL</span> isRequiredMethod, <span class="built_in">BOOL</span> isInstanceMethod);</div><div class="line"></div><div class="line"><span class="keyword">void</span> protocol_addProtocol(Protocol *proto, Protocol *addition);</div><div class="line"></div><div class="line"><span class="keyword">void</span> protocol_addProperty(Protocol *proto, <span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> objc_property_attribute_t *attributes, <span class="keyword">unsigned</span> <span class="keyword">int</span> attributeCount, <span class="built_in">BOOL</span> isRequiredProperty, <span class="built_in">BOOL</span> isInstanceProperty);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Libraries */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> **objc_copyImageNames(<span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *class_getImageName(Class cls);</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> **objc_copyClassNameForImage(<span class="keyword">const</span> <span class="keyword">char</span> *image, <span class="keyword">unsigned</span> <span class="keyword">int</span> *outCount);</div><div class="line"></div><div class="line"><span class="comment">/* Working with Selectors */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *sel_getName(SEL sel);</div><div class="line"></div><div class="line">SEL sel_getUid(<span class="keyword">const</span> <span class="keyword">char</span> *str);</div><div class="line"></div><div class="line">SEL sel_registerName(<span class="keyword">const</span> <span class="keyword">char</span> *str);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> sel_isEqual(SEL lhs, SEL rhs);</div><div class="line"></div><div class="line"><span class="comment">/* OC Language Features */</span></div><div class="line"><span class="keyword">void</span> objc_enumerationMutation(<span class="keyword">id</span> obj);</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_setEnumerationMutationHandler(<span class="keyword">void</span> (*handler)(<span class="keyword">id</span>));</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_setForwardHandler(<span class="keyword">void</span> *fwd, <span class="keyword">void</span> *fwd_stret);</div><div class="line"></div><div class="line">IMP imp_implementationWithBlock(<span class="keyword">id</span> block);</div><div class="line"></div><div class="line"><span class="keyword">id</span> imp_getBlock(IMP anImp);</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> imp_removeBlock(IMP anImp);</div><div class="line"></div><div class="line"><span class="keyword">id</span> objc_loadWeak(<span class="keyword">id</span> *location);</div><div class="line"></div><div class="line"><span class="keyword">id</span> objc_storeWeak(<span class="keyword">id</span> *location, <span class="keyword">id</span> obj);</div><div class="line"></div><div class="line"><span class="comment">/* Associative references */</span></div><div class="line"><span class="keyword">void</span> objc_setAssociatedObject(<span class="keyword">id</span> object, <span class="keyword">const</span> <span class="keyword">void</span> *key, <span class="keyword">id</span> value, objc_AssociationPolicy policy);</div><div class="line"></div><div class="line"><span class="keyword">id</span> objc_getAssociatedObject(<span class="keyword">id</span> object, <span class="keyword">const</span> <span class="keyword">void</span> *key);</div><div class="line"></div><div class="line"><span class="keyword">void</span> objc_removeAssociatedObjects(<span class="keyword">id</span> object);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬å¯ä»¥ä»&lt;code&gt;https://opensource.apple.com/tarballs/objc4/&lt;/code&gt;ä¸‹è½½åˆ°æœ€æ–°çš„&lt;code&gt;runtime&lt;/code&gt;æºç ã€‚&lt;br&gt;ç›®å‰ï¼Œæœ€æ–°çš„æ˜¯&lt;code&gt;objc4-706.tar.gz&lt;/code&gt;å‹ç¼©åŒ…ã€‚&lt;b
    
    </summary>
    
      <category term="OC" scheme="https://oahgnehzoul.github.io/categories/OC/"/>
    
    
      <category term="runtime" scheme="https://oahgnehzoul.github.io/tags/runtime/"/>
    
  </entry>
  
  <entry>
    <title>åŸç ã€åç å’Œè¡¥ç è®¡ç®—</title>
    <link href="https://oahgnehzoul.github.io/2016/11/08/%E5%8E%9F%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E5%92%8C%E8%A1%A5%E7%A0%81/"/>
    <id>https://oahgnehzoul.github.io/2016/11/08/åŸç ã€åç å’Œè¡¥ç /</id>
    <published>2016-11-08T06:57:43.000Z</published>
    <updated>2016-11-13T12:59:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>ã€€ã€€å…¶ä¸­<code>~</code>æ˜¯C è¯­è¨€ä¸­å–åä½è¿ç®—ï¼Œæ¯”å¦‚<code>~10 = -11</code>ï¼Œ<code>~14 = -15</code>ï¼Œ<code>~8 = -9</code>ï¼Œ<code>~ï¼ˆ-8ï¼‰= 7</code>å…¶å®å¤šç®—å‡ æ¬¡ä¹Ÿå¯ä»¥å‘ç°å¾ˆæœ‰è§„å¾‹ï¼Œå®é™…ä¸Šæ˜¯æœ‰ä¸€ä¸ªå…¬å¼<code>~(x) = -x - 1</code><br>ä¸¾ä¾‹ï¼šæ¯”å¦‚è®¡ç®—<code>~10</code>ï¼Œ<br><code>10</code>çš„åŸç æ˜¯<code>00001010</code>,è¡¥ç ä¹Ÿæ˜¯<code>00001010</code>,æ‰€ä»¥<code>10</code>çš„è¡¥ç çš„åç æ˜¯<code>11110101</code>ï¼Œè€Œè¡¥ç <code>11110101</code>å¯¹åº”çš„åŸç æ˜¯<code>10001011</code>ï¼Œå°±æ˜¯<code>-11</code>.</p>
<p>è®¡ç®—æœºä¸­çš„åŸç ã€åç ã€è¡¥ç è®¡ç®—<br>æ­£æ•°çš„åŸç ã€åç ã€è¡¥ç éƒ½æ˜¯ä¸€æ ·çš„ã€‚<br>è´Ÿæ•°çš„åç ï¼šç¬¦å·ä½ä¸å˜ï¼Œå…¶ä»–æŒ‰ä½å–å<br>è´Ÿæ•°çš„è¡¥ç ï¼šç¬¦å·ä½ä¸å˜ï¼Œåç +1</p>
<p>æ€»ç»“ï¼šè®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼éƒ½æ˜¯ä»¥è¡¥ç æ¥è®¡ç®—çš„ï¼Œå› ä¸ºè¡¥ç å¯ä»¥å°†ç¬¦å·ä½å’Œæ•°å€¼åŸŸã€åŠ å‡æ³•ç»Ÿä¸€å¤„ç†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€å…¶ä¸­&lt;code&gt;~&lt;/code&gt;æ˜¯C è¯­è¨€ä¸­å–åä½è¿ç®—ï¼Œæ¯”å¦‚&lt;code&gt;~10 = -11&lt;/code&gt;ï¼Œ&lt;code&gt;~14 = -15&lt;/code&gt;ï¼Œ&lt;code&gt;~8 = -9&lt;/code&gt;ï¼Œ&lt;code&gt;~ï¼ˆ-8ï¼‰= 7&lt;/code&gt;å…¶å®å¤šç®—å‡ æ¬¡ä¹Ÿå¯ä»¥å‘ç°å¾ˆæœ‰è§„å¾‹ï¼Œå®
    
    </summary>
    
      <category term="åŸºç¡€" scheme="https://oahgnehzoul.github.io/categories/%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="è®¡ç®—æœºåŸç†" scheme="https://oahgnehzoul.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¹  Swift çš„ä¸€äº›è®°å½•</title>
    <link href="https://oahgnehzoul.github.io/2016/10/29/%E5%AD%A6%E4%B9%A0-Swift-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/"/>
    <id>https://oahgnehzoul.github.io/2016/10/29/å­¦ä¹ -Swift-çš„ä¸€äº›è®°å½•/</id>
    <published>2016-10-29T04:54:50.000Z</published>
    <updated>2016-11-06T06:48:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>1.ä½¿ç”¨ class å’Œç±»åæ¥åˆ›å»ºç±»</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> &lt;<span class="comment">#name#&gt;: &lt;#super class#&gt; &#123;</span></span></div><div class="line">    &lt;<span class="comment">#code#&gt;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2.åˆ›å»ºç±»çš„æ—¶å€™å¹¶ä¸ä¸€å®šè¦æœ‰æ ¹ç±»ï¼Œå¯ä»¥å¿½ç•¥çˆ¶ç±»<br>3.å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•å¿…é¡»éœ€è¦åŠ  override å…³é”®å­—<br>4.ä½¿ç”¨ <code>func</code> æ¥å£°æ˜å‡½æ•°</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">func &lt;#<span class="keyword">name</span>#&gt;(&lt;#parameters#&gt;) -&gt; &lt;#<span class="keyword">return</span> <span class="keyword">type</span>#&gt; &#123;</div><div class="line">    &lt;#<span class="function"><span class="keyword">function</span></span> body#&gt;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>5.ä½¿ç”¨ <code>enum</code> æ¥åˆ›å»ºæšä¸¾ï¼ŒSwift é‡Œçš„æšä¸¾å¯ä»¥åŒ…å«æ–¹æ³•..</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Rank</span>: <span class="title">Int</span> &#123;</span></div><div class="line">    <span class="keyword">case</span> Ace = <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> Two, Three, Four, Five, Six</div><div class="line">    <span class="keyword">case</span> Jack, Queen, King</div><div class="line">    </div><div class="line">    func simpleDesc() -&gt; String &#123;</div><div class="line">        switch <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="symbol">Ace:</span></div><div class="line">            <span class="keyword">return</span> <span class="string">"ace"</span></div><div class="line">        <span class="symbol">default:</span></div><div class="line">            <span class="keyword">return</span> <span class="string">"queen"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>rawValue</code> å¯ä»¥è®¿é—®æšä¸¾æˆå‘˜çš„åŸå§‹å€¼<br>6.ä½¿ç”¨<code>struct</code>æ¥åˆ›å»ºä¸€ä¸ªç»“æ„ä½“ï¼Œç»“æ„ä½“å’Œç±»æœ‰è®¸å¤šç›¸åŒçš„åœ°æ–¹ï¼Œå¦‚æ–¹æ³•å’Œæ„é€ å™¨ï¼ŒåŒºåˆ«æ˜¯ç»“æ„ä½“æ˜¯ä¼ å€¼ï¼Œç±»æ˜¯ä¼ å¼•ç”¨</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Card</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> rank: <span class="type">Rank</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDesc</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"rank 's simpleDesc is <span class="subst">\(rank.simpleDesc()</span>) "</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>7.åè®®å’Œæ‰©å±•<br>ä½¿ç”¨protocolå£°æ˜åè®®<br>Swift çš„ protocol ä¸ä»…å¯ä»¥è¢« class ç±»å‹å®ç°ï¼Œä¹Ÿé€‚ç”¨äº struct å’Œ enumã€‚<br>mutating å…³é”®å­—ä¿®é¥°æ–¹æ³•æ˜¯ä¸ºäº†åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹ struct/enum çš„å˜é‡,åœ¨ class ä¸­ä¸éœ€è¦å£°æ˜ mutating,åœ¨ struct ä¸­éœ€è¦ï¼Œå› ä¸º class ä¸­çš„æ–¹æ³•é€šå¸¸å¯ä»¥ä¿®æ”¹ç±»å±æ€§<br>å½“ç”¨ enum å®ç°ä¸€ä¸ªåè®®æ—¶ï¼Œå¦‚æœéœ€è¦æ·»åŠ å­˜å‚¨å±æ€§æ—¶åƒ sturct å’Œ class é‚£æ ·ï¼Œä¼šå‡ºç°Enums may not contain stored properties çš„é”™è¯¯ï¼Œä½¿ç”¨å…³è”å€¼æ¥è§£å†³</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Rank</span>: <span class="title">Int</span>, <span class="title">ExampleProtocol</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Ace</span> = <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Two</span>, <span class="type">Three</span>, <span class="type">Four</span>, <span class="type">Five</span>, <span class="type">Six</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Jack</span>, <span class="type">Queen</span>, <span class="type">King</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Ace</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"ace"</span></div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"queen"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> simpleDesc: <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Ace</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"ace"</span></div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"other"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"a enum func protocol"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ extension æ¥ç»™ç°æœ‰ç±»å‹æ·»åŠ åŠŸèƒ½ï¼Œå¦‚æ–°çš„æ–¹æ³•å’Œå±æ€§</p>
<p>optionals<br>å¯é€‰å€¼<br>String?æ„å‘³ç€å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå€¼æˆ–è€…æ—¶ nil</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;1.ä½¿ç”¨ class å’Œç±»åæ¥åˆ›å»ºç±»&lt;/p&gt;
&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;
    
    </summary>
    
      <category term="Swift" scheme="https://oahgnehzoul.github.io/categories/Swift/"/>
    
    
  </entry>
  
  <entry>
    <title>æ€»ç»“ iOS æ²™ç›’æœºåˆ¶ç¬”è®°</title>
    <link href="https://oahgnehzoul.github.io/2016/10/27/%E6%80%BB%E7%BB%93-iOS-%E6%B2%99%E7%9B%92%E6%9C%BA%E5%88%B6%E7%AC%94%E8%AE%B0/"/>
    <id>https://oahgnehzoul.github.io/2016/10/27/æ€»ç»“-iOS-æ²™ç›’æœºåˆ¶ç¬”è®°/</id>
    <published>2016-10-27T14:48:30.000Z</published>
    <updated>2016-11-13T12:59:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>iOS ä¸­æ¯ä¸ª app åº”ç”¨ç¨‹åºè‡ªè¡Œåˆ›å»ºçš„ç‹¬ç«‹çš„å°é—­çš„ç©ºé—´å«æ²™ç›’ï¼Œè¯»å†™æœºåˆ¶å«æ²™æ²³æœºåˆ¶ã€‚<br>app å®‰è£…çš„æ—¶å€™æ²™ç›’ç›®å½•å°±ä¼šè‡ªè¡Œåˆ›å»ºï¼Œappåˆ é™¤çš„æ—¶å€™ä¼šåˆ é™¤ã€‚</p>
<ul>
<li>1.Documents:ç¨‹åºåˆ›å»ºæˆ–åº”ç”¨æµè§ˆäº§ç”Ÿçš„æ–‡ä»¶æ•°æ®</li>
<li>2.Library:ç¨‹åºçš„é»˜è®¤è®¾ç½®æˆ–çŠ¶æ€ä¿¡æ¯ä¿å­˜åœ¨è¯¥ç›®å½•</li>
<li>3.tmp:æä¾›åŠæ—¶åˆ›å»ºä¸´æ—¶æ–‡ä»¶çš„åœ°æ–¹ï¼Œä¸éœ€è¦æŒä¹…åŒ–</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;iOS ä¸­æ¯ä¸ª app åº”ç”¨ç¨‹åºè‡ªè¡Œåˆ›å»ºçš„ç‹¬ç«‹çš„å°é—­çš„ç©ºé—´å«æ²™ç›’ï¼Œè¯»å†™æœºåˆ¶å«æ²™æ²³æœºåˆ¶ã€‚&lt;br&gt;app å®‰è£…çš„æ—¶å€™æ²™ç›’ç›®å½•å°±ä¼šè‡ªè¡Œåˆ›å»ºï¼Œappåˆ é™¤çš„æ—¶å€™ä¼šåˆ é™¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.Documents:ç¨‹åºåˆ›å»ºæˆ–åº”ç”¨æµè§ˆäº§ç”Ÿçš„æ–‡ä»¶æ•°æ®&lt;/li&gt;
&lt;li&gt;2.Libr
    
    </summary>
    
      <category term="iOS" scheme="https://oahgnehzoul.github.io/categories/iOS/"/>
    
    
      <category term="æ²™ç›’" scheme="https://oahgnehzoul.github.io/tags/%E6%B2%99%E7%9B%92/"/>
    
  </entry>
  
  <entry>
    <title>iOS åŠ¨æ€æ›´æ–°æ–¹æ¡ˆ</title>
    <link href="https://oahgnehzoul.github.io/2016/10/26/iOS-%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0%E6%96%B9%E6%A1%88/"/>
    <id>https://oahgnehzoul.github.io/2016/10/26/iOS-åŠ¨æ€æ›´æ–°æ–¹æ¡ˆ/</id>
    <published>2016-10-26T04:40:19.000Z</published>
    <updated>2016-11-13T13:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç›®å‰ iOS ä¸Šçš„åŠ¨æ€æ›´æ–°æ–¹æ¡ˆä¸»è¦æœ‰ä»¥ä¸‹4ç§ï¼š</p>
<ul>
<li>HTML5</li>
<li>lua(wax) hotpatch</li>
<li>react native</li>
<li>framework</li>
</ul>
<p>å‰ä¸‰ç§éƒ½æ˜¯é€šè¿‡åœ¨åº”ç”¨å†…æ­å»ºä¸€ä¸ªè¿è¡Œç¯å¢ƒæ¥å®ç°åŠ¨æ€æ›´æ–°ï¼Œåœ¨ç”¨æˆ·ä½“éªŒå’Œäº¤äº’ä¸Šæœ‰ä¸€å®šé™åˆ¶ã€‚<br>ä½¿ç”¨ framework å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„ OC/Swift å¼€å‘ï¼Œæˆæœ¬ä½ï¼Œä½†æ˜¯ Apple ä¸å¸Œæœ›å¼€å‘è€…ç»•è¿‡ App Store æ¥æ›´æ–° appï¼Œåªæœ‰ä¸éœ€è¦ä¸Šæ¶çš„åº”ç”¨ï¼Œæ‰èƒ½ä»¥ framework çš„æ–¹å¼æ¥æ›´æ–° app</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç›®å‰ iOS ä¸Šçš„åŠ¨æ€æ›´æ–°æ–¹æ¡ˆä¸»è¦æœ‰ä»¥ä¸‹4ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTML5&lt;/li&gt;
&lt;li&gt;lua(wax) hotpatch&lt;/li&gt;
&lt;li&gt;react native&lt;/li&gt;
&lt;li&gt;framework&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‰ä¸‰ç§éƒ½æ˜¯é€šè¿‡åœ¨åº”ç”¨å†…æ­
    
    </summary>
    
      <category term="iOS" scheme="https://oahgnehzoul.github.io/categories/iOS/"/>
    
    
      <category term="åŠ¨æ€æ›´æ–°" scheme="https://oahgnehzoul.github.io/tags/%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0/"/>
    
  </entry>
  
  <entry>
    <title> iOS ä¸­çš„é™æ€åº“ä¸åŠ¨æ€åº“</title>
    <link href="https://oahgnehzoul.github.io/2016/10/24/iOS-%E9%9D%99%E6%80%81%E5%BA%93%E4%B8%8E%E5%8A%A8%E6%80%81%E5%BA%93/"/>
    <id>https://oahgnehzoul.github.io/2016/10/24/iOS-é™æ€åº“ä¸åŠ¨æ€åº“/</id>
    <published>2016-10-24T08:48:14.000Z</published>
    <updated>2016-11-13T13:00:16.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é™æ€åº“"><a href="#é™æ€åº“" class="headerlink" title="é™æ€åº“"></a>é™æ€åº“</h3><p>é™æ€åº“:æ˜¯ä¸€ä¸ªå¤–éƒ¨å‡½æ•°ä¸å˜é‡çš„é›†åˆä½“ã€‚<br>é™æ€åº“çš„æ–‡ä»¶å†…å®¹ï¼Œé€šå¸¸åŒ…å«ä¸€å †æˆ‘ä»¬è‡ªå®šçš„å˜é‡ä¸å‡½æ•°ï¼Œå†…å®¹ä¸è¯¦åŠ¨æ€é“¾æ¥åº“é‚£ä¹ˆå¤æ‚ï¼Œåœ¨ç¼–è¯‘æœŸé—´ç”±ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨å°†å®ƒé›†æˆåˆ°åº”ç”¨ç¨‹åºå†…ï¼Œå¹¶åˆ¶ä½œæˆç›®æ ‡æ–‡ä»¶ä»¥åŠå¯ä»¥ç‹¬ç«‹è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸ç¼–è¯‘å¯æ‰§è¡Œçš„ç¨‹åºï¼Œéƒ½æ˜¯ä¸€ç§ç¨‹åºçš„é™æ€åˆ›å»ºã€‚</p>
<h4 id="ä¸åŠ¨æ€é“¾æ¥åº“æ¯”è¾ƒ"><a href="#ä¸åŠ¨æ€é“¾æ¥åº“æ¯”è¾ƒ" class="headerlink" title="ä¸åŠ¨æ€é“¾æ¥åº“æ¯”è¾ƒ"></a>ä¸åŠ¨æ€é“¾æ¥åº“æ¯”è¾ƒ</h4><h5 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h5><p>ã€€ã€€åªéœ€ä¿è¯åœ¨å¼€å‘è€…çš„è®¡ç®—æœºæœ‰æ­£ç¡®çš„åº“æ–‡ä»¶ï¼Œåœ¨ä»¥äºŒè¿›åˆ¶å‘å¸ƒæ—¶ä¸éœ€è€ƒè™‘åœ¨ç”¨æˆ·çš„è®¡ç®—æœºä¸Šåº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨å’Œç‰ˆæœ¬é—®é¢˜ï¼Œå¯é¿å…DLLåœ°ç‹±(åœ¨ mw ç³»ç»Ÿä¸­ï¼Œå› ä¸º DLL çš„ç‰ˆæœ¬æˆ–å…¼å®¹æ€§é—®é¢˜é€ æˆç¨‹åºæ— æ³•è¿è¡Œ)ç­‰é—®é¢˜</p>
<h5 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h5><p>ã€€ã€€ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯è¾ƒå¤§ã€‚æ­£æ˜¯ä¸ºäº†é¿å…æ­¤é—®é¢˜ï¼Œæ‰å¼€å‘äº†åŠ¨æ€åº“æŠ€æœ¯ã€‚
ã€€ã€€</p>
<h3 id="åŠ¨æ€é“¾æ¥åº“"><a href="#åŠ¨æ€é“¾æ¥åº“" class="headerlink" title="åŠ¨æ€é“¾æ¥åº“"></a>åŠ¨æ€é“¾æ¥åº“</h3><p>æ˜¯å¾®è½¯å…¬å¸åœ¨å¾®è½¯è§†çª—æ“ä½œç³»ç»Ÿä¸­å®ç°å…±äº«å‡½æ•°åº“æ¦‚å¿µçš„ä¸€ç§å®ä½œæ–¹å¼ã€‚<br>åŠ¨æ€é“¾æ¥ï¼Œå°±æ˜¯æŠŠä¸€äº›ç»å¸¸ä¼šå…±ç”¨çš„ä»£ç ï¼ˆé™æ€é“¾æ¥çš„ obj ç¨‹åºåº“ï¼‰åˆ¶æˆ DLL æ¡£ï¼Œå½“å¯æ‰§è¡Œæ–‡ä»¶è°ƒç”¨åˆ° DLL æ¡£å†…çš„å‡½æ•°æ—¶ï¼ŒWindows æ“ä½œç³»ç»Ÿä¼šæŠŠ DLL æ¡£åŠ è½½åˆ°å†…å­˜ä¸­ï¼ŒDLL æ¡£æœ¬èº«å°±æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½“ç¨‹åºéœ€æ±‚å‡½æ•°æ‰è¿›è¡Œé“¾æ¥ã€‚é€šè¿‡åŠ¨æ€é“¾æ¥æ–¹å¼ï¼Œå¯ä»¥é™ä½å†…å­˜æµªè´¹çš„å‘ç”Ÿã€‚é™æ€é“¾æ¥åˆ™æ˜¯ç›´æ¥é“¾æ¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>ä»¥ä¸Šæ‘˜æŠ„è‡ªæŸ<code>wiki</code></p>
<h3 id="iOS-é‡Œçš„é™æ€åº“å’ŒåŠ¨æ€åº“"><a href="#iOS-é‡Œçš„é™æ€åº“å’ŒåŠ¨æ€åº“" class="headerlink" title="iOS é‡Œçš„é™æ€åº“å’ŒåŠ¨æ€åº“"></a>iOS é‡Œçš„é™æ€åº“å’ŒåŠ¨æ€åº“</h3><p>ä¹‹å‰è¢«é—®åˆ°é™æ€åº“å’ŒåŠ¨æ€åº“ä»€ä¹ˆåŒºåˆ«ã€‚ã€‚<br>åº“åˆ†ä¸ºå¼€æºåº“å’Œé—­æºåº“ï¼Œé—­æºåº“åˆåˆ†ä¸ºé™æ€åº“å’ŒåŠ¨æ€åº“ã€‚ä½†æ˜¯ç”±äº AppStore çš„é™åˆ¶ï¼Œä¸Šæ¶åº”ç”¨åªèƒ½ä½¿ç”¨è‹¹æœæä¾›çš„åŠ¨æ€é“¾æ¥åº“ï¼Œç¬¬ä¸‰æ–¹åº“åªèƒ½åšæˆé™æ€åº“ã€‚</p>
<p><code>.a</code> æ–‡ä»¶è‚¯å®šæ˜¯é™æ€åº“ï¼Œ<code>.dylib</code> è‚¯å®šæ˜¯åŠ¨æ€åº“ï¼Œ<code>.framework</code> éƒ½æœ‰å¯èƒ½<br>é™æ€åº“åœ¨é“¾æ¥æ—¶ï¼Œå®Œæ•´åœ°è¢«æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå¤šä¸ª app å¦‚æœä½¿ç”¨åŒä¸€ä¸ªé™æ€åº“ï¼Œæ¯ä¸ª app éƒ½ä¼šæ‹·è´ä¸€ä»½ï¼›åŠ¨æ€åº“åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç³»ç»Ÿåªä¼šåŠ è½½ä¸€æ¬¡ï¼Œå¤šä¸ªç¨‹åºå…±ç”¨ä¸€ä»½ï¼ŒèŠ‚çº¦å†…å­˜ã€‚</p>
<p>ç¼–è¯‘è¿‡ç¨‹å’Œé“¾æ¥è¿‡ç¨‹è¦åŒºåˆ†å¼€ï¼Œé™æ€åº“åªåœ¨é™æ€é“¾æ¥è¿‡ç¨‹ä¸­èµ·ä½œç”¨ï¼›é™æ€åº“æ˜¯ target object æ–‡ä»¶çš„ archive ç»“æ„ï¼Œé“¾æ¥æ—¶ä¼šå°†ä¸€äº›ä¸œè¥¿åˆå¹¶ç”Ÿæˆæœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶çš„ Mach-O ç»“æ„</p>
<p>å¤§èŒƒå›´ä½¿ç”¨åŠ¨æ€åº“ä¼šæ‹–æ…¢å¯åŠ¨æ—¶é—´ï¼ŒåŠ¨æ€é“¾æ¥å™¨éœ€è¦åœ¨ç¨‹åºåŠ è½½æ—¶å»æ‰§è¡Œé“¾æ¥è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠé™æ€é“¾æ¥åšçš„äº‹æƒ…æ”¾åˆ°è¿è¡Œæ—¶åšï¼›ç³»ç»Ÿçš„ SDK å¯ä»¥å…±äº«å†…å­˜çš„æ–¹å¼å‡å°‘å‘è™šæ‹Ÿå†…å­˜æ˜ å°„çš„,ä½†æ˜¯ç¬¦å·é“¾æ¥çš„è¿‡ç¨‹ä¸ä¼šå°‘ã€‚</p>
<h4 id="åˆ›å»ºé™æ€åº“"><a href="#åˆ›å»ºé™æ€åº“" class="headerlink" title="åˆ›å»ºé™æ€åº“"></a>åˆ›å»ºé™æ€åº“</h4><h5 id="1-a"><a href="#1-a" class="headerlink" title="1.a"></a><code>1.a</code></h5><p>åˆ›å»ºCocoa Touch Static Library</p>
<h5 id="2-framework"><a href="#2-framework" class="headerlink" title="2.framework"></a><code>2.framework</code></h5><p>åˆ›å»ºCocoa Touch Frameworkï¼Œç„¶åMach-O Type é€‰æ‹© Static Libraryï¼Œ<br><code>æ¨¡æ‹Ÿå™¨æ¶æ„
iPhone4s ~ 5: i386
iPhone5s ~ 7Plus: x86_64
çœŸæœºæ¶æ„
3GS ~ 4s: armv7
5/5c: armv7s(armv7å…¼å®¹ armv7s)
5s ~ 6sPlus: arm64</code><br>å½“æˆ‘ä»¬ç”¨ iPhone5s ä»¥ä¸Šçš„æ¨¡æ‹Ÿå™¨æ‰“åŒ…çš„é™æ€åº“æ¶æ„æ˜¯ x86_64ï¼Œå¦‚æœè¿è¡Œåœ¨ iPhone5åŠä»¥ä¸‹çš„æ¨¡æ‹Ÿå™¨ï¼Œä¼šæŠ¥<code>Undefined symbols for architecture i386</code><br>è®©é™æ€åº“æ”¯æŒæ‰€æœ‰æ¨¡æ‹Ÿå™¨å¯¹åº”çš„æ¶æ„<br><code>Build Setting-&gt;Build Active Architecture Only</code>(åªæ„å»ºå½“å‰é€‰ä¸­çš„æ¨¡æ‹Ÿå™¨æˆ–è€…çœŸæœºçš„æ¶æ„)â€“&gt;No</p>
<p>æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬çš„é™æ€åº“å’ŒçœŸæœºç‰ˆæ˜¯ä¸èƒ½é€šç”¨çš„ï¼Œ<br>ä½¿ç”¨å‘½ä»¤è¡Œå¯ä»¥åˆå¹¶é™æ€åº“<br><code>lipo -create xxx1.a xxx2.a -output xxx3.a</code><br><code>lipo -info xxx.a</code> å¯ä»¥æŸ¥çœ‹ xxx.a æ”¯æŒçš„æ¶æ„</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;é™æ€åº“&quot;&gt;&lt;a href=&quot;#é™æ€åº“&quot; class=&quot;headerlink&quot; title=&quot;é™æ€åº“&quot;&gt;&lt;/a&gt;é™æ€åº“&lt;/h3&gt;&lt;p&gt;é™æ€åº“:æ˜¯ä¸€ä¸ªå¤–éƒ¨å‡½æ•°ä¸å˜é‡çš„é›†åˆä½“ã€‚&lt;br&gt;é™æ€åº“çš„æ–‡ä»¶å†…å®¹ï¼Œé€šå¸¸åŒ…å«ä¸€å †æˆ‘ä»¬è‡ªå®šçš„å˜é‡ä¸å‡½æ•°ï¼Œå†…å®¹ä¸è¯¦åŠ¨æ€é“¾æ¥åº“é‚£ä¹ˆå¤æ‚ï¼Œåœ¨ç¼–è¯‘
    
    </summary>
    
      <category term="iOS" scheme="https://oahgnehzoul.github.io/categories/iOS/"/>
    
    
      <category term="åŠ¨æ€åº“ã€é™æ€åº“" scheme="https://oahgnehzoul.github.io/tags/%E5%8A%A8%E6%80%81%E5%BA%93%E3%80%81%E9%9D%99%E6%80%81%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº Xcode8ä¸­ autolayout çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜</title>
    <link href="https://oahgnehzoul.github.io/2016/10/21/%E5%85%B3%E4%BA%8E-Xcode8%E4%B8%AD-autolayout-%E7%BA%A6%E6%9D%9F%E4%BD%9C%E7%94%A8%E6%97%B6%E9%97%B4%E9%97%AE%E9%A2%98/"/>
    <id>https://oahgnehzoul.github.io/2016/10/21/å…³äº-Xcode8ä¸­-autolayout-çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜/</id>
    <published>2016-10-21T03:49:50.000Z</published>
    <updated>2016-11-13T12:58:35.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…³äº-awakeFromNib"><a href="#å…³äº-awakeFromNib" class="headerlink" title="å…³äº awakeFromNib"></a>å…³äº awakeFromNib</h3><p>awakeFromNib æ˜¯ç»§æ‰¿è‡ª NSObject<br>è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥æä¾›æŠŠ nib æ–‡ä»¶åŠ è½½åˆ° application ä¸­çš„ï¼Œä½†æ˜¯ nib æ–‡ä»¶ä¸­æ·»åŠ çš„çº¦æŸæ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæ•ˆçš„å‘¢ï¼Ÿ</p>
<p>åœ¨ vc çš„ <code>viewDidLoad</code> è°ƒç”¨ä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨æ·»åŠ åˆ° vc.viewçš„å­ View çš„ <code>awakeFromNib</code> æ–¹æ³•ï¼ˆå¦‚æœæ˜¯ä» nib åŠ è½½ï¼‰</p>
<h3 id="layoutSubViews"><a href="#layoutSubViews" class="headerlink" title="layoutSubViews"></a>layoutSubViews</h3><p>ä»æ–‡æ¡£é‡Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ iOS5.1ä¹‹å‰ï¼Œè¿™ä¸ªæ–¹æ³•does nothing,<br>å¦åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é‡å†™layoutSubViewsä¸­çš„çº¦æŸæ¥ç¡®å®šä»»ä½• subViewsï¼Œä¸è¦ç›´æ¥è°ƒç”¨ï¼Œå¯ä»¥ä¸‹ä¸€æ¬¡è§†å›¾æ›´æ–°ä¹‹å‰è°ƒç”¨ setNeedsLayoutï¼Œå¦‚æœæƒ³ç«‹å³æ›´æ–°ï¼Œè°ƒç”¨ layoutIfNeeded.<br>view çš„ layoutSubViews è¢«è°ƒç”¨çš„æƒ…å†µ:<br>1.addSubView<br>2.frame å‘ç”Ÿæ”¹å˜<br>3.æ»‘åŠ¨ UIScrollView<br>4.æ—‹è½¬ Screen<br>5.æ”¹å˜ viewçš„ subview çš„ frame<br>6.è°ƒç”¨ setLayoutSubViews</p>
<h3 id="setNeedsLayout"><a href="#setNeedsLayout" class="headerlink" title="setNeedsLayout"></a>setNeedsLayout</h3><p>æ ‡è®°ä¸ºéœ€è¦é‡æ–°å¸ƒå±€ï¼Œå¼‚æ­¥è°ƒç”¨ layoutIfNeeded,<br>åœ¨ä¸‹ä¸€æ¬¡ é‡æ–°å¸ƒå±€update cycle ä¹‹å‰è°ƒç”¨ ,åœ¨ä¸»çº¿ç¨‹è°ƒç”¨ï¼Œå› ä¸º UIKit ä¸‹é¢çš„éƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</p>
<h3 id="layoutIfNeeded"><a href="#layoutIfNeeded" class="headerlink" title="layoutIfNeeded"></a>layoutIfNeeded</h3><p>ç«‹å³åˆ·æ–° UI</p>
<h3 id="viewDidLayoutSubviews"><a href="#viewDidLayoutSubviews" class="headerlink" title="viewDidLayoutSubviews"></a>viewDidLayoutSubviews</h3><p>å½“ vc.viewçš„ boundså‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ¯”å¦‚æ—‹è½¬ã€‚viewä¼šè°ƒæ•´ subviews çš„ positionï¼Œç„¶åç³»ç»Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="storyBoard-ä¸­çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜"><a href="#storyBoard-ä¸­çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜" class="headerlink" title="storyBoard ä¸­çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜"></a>storyBoard ä¸­çº¦æŸä½œç”¨æ—¶é—´é—®é¢˜</h3><p>å…ˆåœ¨ storyBoard çš„ vc.view ä¸­æ·»åŠ ä¸€ä¸ª viewA,æˆ‘è¯•ç€åœ¨ VC çš„ <code>awakeFromNib</code> é‡Œé¢æ‰“å°åœ¨viewA,ä¸ºnilï¼Œå¦‚æœå¯¹ viewA å‘é€æ¶ˆæ¯ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼Œå› ä¸º viewA ä¸º nilã€‚ä½†æ˜¯ vc.view çš„ä¿¡æ¯èƒ½æ‰“å°å‡ºæ¥ï¼Œvc.view çš„çº¦æŸæ˜¯æ­£ç¡®çš„.é‚£ä¹ˆåœ¨ storyBoard ä¸­çš„ vc.view ä¸Šæ·»åŠ çš„å­ View æ˜¯ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ï¼Ÿ<br>åœ¨<code>viewDidLoad</code> æ–¹æ³•ä¸­æ‰“å° viewAï¼Œå¦‚æœ storyBoard ä¸­ viewA å­˜åœ¨misplacedï¼Œ<code>viewA</code>æ‰“å°å‡ºæ¥çš„æ˜¯<code>viewA:&lt;UIView: 0x7fd8595055e0; frame = (67 253; 240 128); autoresize = RM+BM; layer = &lt;CALayer: 0x60800003ecc0&gt;&gt;</code>ï¼Œä½†æ˜¯å¦‚æœ<code>updateFrames</code>ä¹‹åï¼Œæ‰“å°çš„æ˜¯<br><code>viewA:&lt;UIView: 0x7feab1608610; frame = (0 0; 1000 1000); autoresize = RM+BM; layer = &lt;CALayer: 0x608000035140&gt;&gt;</code>,æ‰€ä»¥ä¸€æ—¦æŠŠ <code>viewA updateFrames</code>ï¼Œçº¦æŸçš„ä½œç”¨æ—¶é—´å°±å»¶åäº†ï¼Œåœ¨ <code>ViewDidLoad</code> ä¹‹åï¼Ÿï¼Ÿ<br>æˆ‘åˆè¯•ç€åœ¨ storyBoard çš„ vc.viewä¸­æ·»åŠ äº†ä¸€ä¸ª å­ viewï¼šviewB,åœ¨<code>viewDidLoad</code>ä¸­æ‰‹åŠ¨æ·»åŠ çº¦æŸï¼Œå‘ç°æ˜¯èƒ½è·å–åˆ° viewA çš„çº¦æŸçš„ï¼Œè¯´æ˜åœ¨storyBoardæ›´æ–°çº¦æŸåï¼Œ viewA çš„çº¦æŸä½œç”¨æ—¶é—´ç¡®å®å»¶åäº†</p>
<p><code>[UINib instantiateWithOwner:options:]</code>æ–¹æ³•ä¼šè°ƒç”¨<code>[ViewController awakeFromNib]</code>ï¼Œ</p>
<p>VC çš„<code>awakeFromNib</code>ä¼šè°ƒç”¨ nib æ–‡ä»¶é‡Œé¢ vc çš„view çš„å­ Viewï¼Œç„¶å VC <code>awakeFromNib</code>ç„¶å<code>[UIViewController loadViewIfRequired]</code>ä¼šè°ƒç”¨<code>[ViewController viewDidLoad]</code>æ–¹æ³•ï¼Œ</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å…³äº-awakeFromNib&quot;&gt;&lt;a href=&quot;#å…³äº-awakeFromNib&quot; class=&quot;headerlink&quot; title=&quot;å…³äº awakeFromNib&quot;&gt;&lt;/a&gt;å…³äº awakeFromNib&lt;/h3&gt;&lt;p&gt;awakeFromNib æ˜¯ç»§æ‰¿è‡ª 
    
    </summary>
    
      <category term="Xcode" scheme="https://oahgnehzoul.github.io/categories/Xcode/"/>
    
    
      <category term="autolayout" scheme="https://oahgnehzoul.github.io/tags/autolayout/"/>
    
  </entry>
  
  <entry>
    <title>å¤ä¹  Cocoapods çš„ä¸€äº›å‘½ä»¤</title>
    <link href="https://oahgnehzoul.github.io/2016/10/20/%E5%A4%8D%E4%B9%A0-Cocoapods-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4/"/>
    <id>https://oahgnehzoul.github.io/2016/10/20/å¤ä¹ -Cocoapods-çš„ä¸€äº›å‘½ä»¤/</id>
    <published>2016-10-20T11:20:00.000Z</published>
    <updated>2016-11-13T12:58:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¨å¤©æœ‰çœ‹åˆ°è¯´<code>ruby.taobao.org</code> åœæ­¢æ›´æ–°äº†ï¼Œäºæ˜¯ä¹æ›´æ–°äº†<code>https://gems.ruby-china.org/</code></p>
<h4 id="CocoaPods-çš„å®‰è£…å’Œæ›´æ–°"><a href="#CocoaPods-çš„å®‰è£…å’Œæ›´æ–°" class="headerlink" title="CocoaPods çš„å®‰è£…å’Œæ›´æ–°"></a>CocoaPods çš„å®‰è£…å’Œæ›´æ–°</h4><p>ä¹‹å‰ç”¨<code>sudo gem install cocoapods</code>å°±å¯ä»¥äº†<br>ç°åœ¨åœ¨ <code>EI Capitan</code> ç³»ç»Ÿä¸‹å¾—<code>sudo gem install -n /usr/local/bin cocoapods</code><br>æˆ‘ä»¬å®‰è£…çš„ <code>cocoapods</code> çš„ repo åœ¨ <code>~/.cocoapods</code> ç›®å½•ä¸‹</p>
<h4 id="å¸è½½Cocoapods"><a href="#å¸è½½Cocoapods" class="headerlink" title="å¸è½½Cocoapods"></a>å¸è½½Cocoapods</h4><p><code>sudo gem uninstall cocoapods -v xxxx</code><br>åŒç†ç§»é™¤å…¶ä»–å®‰è£…çš„ <code>gemlists</code></p>
<h4 id="ä¸€äº›å®¹æ˜“é—å¿˜çš„å‘½ä»¤"><a href="#ä¸€äº›å®¹æ˜“é—å¿˜çš„å‘½ä»¤" class="headerlink" title="ä¸€äº›å®¹æ˜“é—å¿˜çš„å‘½ä»¤"></a>ä¸€äº›å®¹æ˜“é—å¿˜çš„å‘½ä»¤</h4><p><code>gem source</code> æŸ¥çœ‹å½“å‰ gem æº<br><code>gem source --remove xxxx</code> ç§»é™¤æº<br><code>gem source -a xxxx</code>æ·»åŠ æº<br><code>gem list</code> æŸ¥çœ‹å®‰è£…çš„ local gems åˆ—è¡¨<br><code>sudo gem update --system</code> æ›´æ–° Ruby gems ç‰ˆæœ¬</p>
<h4 id="è‡ªåŠ¨ç”Ÿæˆ-gitignoreæ–‡ä»¶"><a href="#è‡ªåŠ¨ç”Ÿæˆ-gitignoreæ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆ.gitignoreæ–‡ä»¶"></a>è‡ªåŠ¨ç”Ÿæˆ<code>.gitignore</code>æ–‡ä»¶</h4><p>Githubå®˜æ–¹çš„ä¸Šçš„<code>https://github.com/github/gitignore</code>æœ‰ä¸€äº›<code>.gitignore</code>æ–‡ä»¶ï¼Œæ¯”è¾ƒå…¨ã€‚<br>åŒæ—¶ï¼Œ<code>https://www.gitignore.io/</code>ä¸Šé¢ä¹Ÿæœ‰æ•™æ€ä¹ˆè‡ªåŠ¨ç”Ÿæˆ<code>.gitignore</code> æ–‡ä»¶ã€‚<br>æˆ‘æœ‰å¯¹æ¯”è¿‡ä¸¤ä¸ªçš„å·®å¼‚ï¼Œå‡ ä¹æ²¡æœ‰ã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„zsh å…³äº gitignore çš„è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒ.<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">gi</span><span class="params">()</span> </span>&#123; curl -L -s https:<span class="comment">//www.gitignore.io/api/$@ ;&#125;</span></div><div class="line">alias gitignore=<span class="string">'gi objective-c,xcode &gt;&gt; .gitignore'</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ˜¨å¤©æœ‰çœ‹åˆ°è¯´&lt;code&gt;ruby.taobao.org&lt;/code&gt; åœæ­¢æ›´æ–°äº†ï¼Œäºæ˜¯ä¹æ›´æ–°äº†&lt;code&gt;https://gems.ruby-china.org/&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;CocoaPods-çš„å®‰è£…å’Œæ›´æ–°&quot;&gt;&lt;a href=&quot;#CocoaPod
    
    </summary>
    
      <category term="Cocoapods" scheme="https://oahgnehzoul.github.io/categories/Cocoapods/"/>
    
    
  </entry>
  
  <entry>
    <title>OC ä¸­çš„ä¸€äº›åŸºç¡€çŸ¥è¯†</title>
    <link href="https://oahgnehzoul.github.io/2016/10/20/OC-%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>https://oahgnehzoul.github.io/2016/10/20/OC-ä¸­çš„ä¸€äº›åŸºç¡€çŸ¥è¯†/</id>
    <published>2016-10-20T04:07:33.000Z</published>
    <updated>2016-11-13T13:00:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="runtime"><a href="#runtime" class="headerlink" title="runtime"></a>runtime</h3><p>runtime è§£é‡Šæˆä¸­æ–‡å°±æ˜¯[è¿è¡Œæ—¶]ï¼Œæ˜¯ OC è¯­è¨€åŒºåˆ«äº C è¯­è¨€ï¼ˆé™æ€è¯­è¨€ï¼‰çš„åŠ¨æ€ç‰¹æ€§ã€‚C è¯­è¨€çš„æ–¹æ³•è°ƒç”¨åœ¨ç¼–è¯‘å™¨å°±å†³å®šå¥½ï¼Œç„¶åæ‰§è¡Œï¼›OC çš„æ–¹æ³•è°ƒç”¨æœ¬è´¨ä¸Šæ˜¯æ¶ˆæ¯å‘é€ï¼Œåœ¨ç¼–è¯‘å™¨ä¸çŸ¥é“è¦è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œruntime å°±æ˜¯ç”¨æ¥åœ¨è¿è¡Œçš„æ—¶å€™å»æ‰¾åˆ°è°ƒç”¨çš„æ–¹æ³•ã€‚</p>
<h3 id="OCä¸­çš„object"><a href="#OCä¸­çš„object" class="headerlink" title="OCä¸­çš„object"></a>OCä¸­çš„object</h3><p>ä»€ä¹ˆæ˜¯å¯¹è±¡å‘¢ï¼Ÿä»»ä½•ä¸€ä¸ªç‰©ä½“éƒ½å¯ä»¥çœ‹åšä¸€ä¸ªå¯¹è±¡ï¼Œä¸€æ”¯ç¬”ï¼Œä¸€ä¸ªäººï¼Œä¸­å›½äººï¼Œ<br>OC ä¸­ï¼Œå¯¹è±¡éƒ½å¯ä»¥ç”¨ id æ¥æŒ‡å‘ï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> objc_object *id;</div><div class="line"><span class="comment">//public objc.hé‡Œçš„ objc_object ç»“æ„ä½“</span></div><div class="line"><span class="keyword">struct</span> objc_object &#123;</div><div class="line">	Class isa OBJC_ISA_AVAILABILITY;</div><div class="line">&#125;</div><div class="line"><span class="comment">//objc-privated.h é‡Œé¢çš„ objc_object ç»“æ„ä½“</span></div><div class="line"><span class="keyword">struct</span> objc_object &#123;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">isa_t</span> isa;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function">Class <span class="title">ISA</span><span class="params">()</span></span>;</div><div class="line">	<span class="function">Class <span class="title">getIsa</span><span class="params">()</span></span>;</div><div class="line">	...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>idæ˜¯ä¸€ä¸ªæŒ‡å‘ objc_object ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œ<br>åœ¨ objc_object privateç»“æ„ä½“é‡Œé¢ï¼Œæœ‰ä¸€ä¸ª isa æŒ‡é’ˆ,<br>ISA()æ˜¯è¿”å› æœ‰ tagged pointer çš„object çš„isa.cls</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">union</span> <span class="title">isa_t</span></span></div><div class="line">&#123;</div><div class="line">	isa_t()&#123;&#125;</div><div class="line">	...</div><div class="line">	Class cls;</div><div class="line">	uintptr_t bits;</div><div class="line">	...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="OCä¸­çš„-Class"><a href="#OCä¸­çš„-Class" class="headerlink" title="OCä¸­çš„ Class"></a>OCä¸­çš„ Class</h3><p>public/objc.h ä¸­</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> objc_class *Class;</div></pre></td></tr></table></figure>
<p>Class æ˜¯ä¸€ä¸ªæŒ‡å‘ objc_class ç»“æ„ä½“çš„æŒ‡é’ˆï¼›</p>
<p>objc-runtime-old.h ä¸­</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">struct objc_class:objc_object &#123;</div><div class="line">	Class superclass<span class="comment">;</span></div><div class="line">	const char *name<span class="comment">;</span></div><div class="line">	uint32_t version<span class="comment">;</span></div><div class="line">	uint32_t info<span class="comment">;</span></div><div class="line">	uint32_t <span class="keyword">instance_size;</span></div><div class="line">	struct old_ivar_list *ivar<span class="comment">;</span></div><div class="line">	struct old_method_list *methodLists<span class="comment">;</span></div><div class="line">	<span class="keyword">Cache </span><span class="keyword">cache;</span></div><div class="line">	struct old_protocol_list *protocols<span class="comment">;</span></div><div class="line">	....</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>objc_class ä¹Ÿæ˜¯ä¸€ä¸ª objc_objectï¼Œç±»ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œæ¯”å¦‚äººå¯ä»¥çœ‹åšå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥çœ‹æˆç±»ã€‚</p>
<h3 id="SEL-å’Œ-IMP"><a href="#SEL-å’Œ-IMP" class="headerlink" title="SEL å’Œ IMP"></a>SEL å’Œ IMP</h3><p><code>typedef struct objc_selector *SEL</code><br>SELå¯ä»¥ç†è§£ä¸ºæ–¹æ³•çš„ idï¼ŒOC ä¸­ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼Œå› ä¸ºä¸€ä¸ªç±»çš„æ–¹æ³•åˆ—è¡¨ä¸­ä¸èƒ½å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„ SELï¼Œä½†æ˜¯å¤šä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸åŒçš„ç±»ä¸­æœ‰ç›¸åŒçš„ SELï¼Œç»§æ‰¿ä¹‹åå¯ä»¥å¤å†™çˆ¶ç±»çš„å‡½æ•°ã€‚</p>
<h3 id="æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹"><a href="#æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹" class="headerlink" title="æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹"></a>æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹</h3><p>objc_msgSend è°ƒç”¨è¿‡ç¨‹<br>1.æ£€æµ‹ SEL æ˜¯å¦åº”è¯¥è¢«å¿½ç•¥<br>2.æ£€æµ‹æ¥æ”¶æ¶ˆæ¯çš„ target æ˜¯å¦ä¸º nilï¼Œå¦‚æœæ˜¯å°±å¿½ç•¥è¿™ä¸ªæ¶ˆæ¯<br>3.é€šè¿‡ isa å¯»æ‰¾æ–¹æ³•ï¼Œç›´è‡³æ ¹ç±» NSObject/NSProxy<br>  å¦‚æœæ²¡æ‰¾åˆ°å°±è¿›å…¥æ¶ˆæ¯åŠ¨æ€è§£æ<br>åœ¨ public headers/message.h ä¸­æœ‰<br><code>objc_msgSend(void /*id self, SEL op,...*/)</code><br><code>objc_msgSendSuper(void /*struct objc_super *super, SEL op,...*/)</code>ç­‰æ–¹æ³•<br>æ¯”å¦‚æˆ‘ä»¬è°ƒç”¨[obj foo]æ–¹æ³•ï¼Œruntime ä¼šè½¬æ¢æˆ <code>objc_msgSendï¼ˆobj,@selector(foo));</code><br>å› ä¸ºå¯¹è±¡(obj)æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå¯ä»¥æ ¹æ®å¯¹è±¡çš„åœ°å€è·å¾— isa æŒ‡é’ˆï¼Œç„¶åå¯ä»¥æ‰¾åˆ° isa æŒ‡å‘çš„ç±»ï¼ˆobjçš„ Classï¼‰ï¼Œä¼šåœ¨è¿™ä¸ªç±»ä¸­å¯»æ‰¾å¯¹åº”çš„å®ä¾‹æ–¹æ³•åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­ key æ˜¯ SELï¼Œvalue æ˜¯ IMPï¼Œ@{SEL:IMP}ï¼ŒIMP æ˜¯æŒ‡å‘æ–¹æ³•å®ç°çš„æŒ‡é’ˆï¼Œå¦‚æœå½“å‰æ–¹æ³•åˆ—è¡¨ä¸­æ²¡æœ‰ï¼Œä¼šæ‰¾åˆ° superClassï¼Œåœ¨ superClass ä¸­å¯»æ‰¾<br><img src="http://upload-images.jianshu.io/upload_images/943858-0077900c0a20d492.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<h5 id="æ¶ˆæ¯åŠ¨æ€è§£æ"><a href="#æ¶ˆæ¯åŠ¨æ€è§£æ" class="headerlink" title="æ¶ˆæ¯åŠ¨æ€è§£æ"></a>æ¶ˆæ¯åŠ¨æ€è§£æ</h5><p><img src="http://upload-images.jianshu.io/upload_images/943858-7bbaf6ed68c48cab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"><br>1.è¿›å…¥ resolveInstanceMethod æ–¹æ³•ï¼Œé»˜è®¤ä¸º NOï¼Œç„¶åå°±ä¼šæŠ¥é”™ï¼›æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>class_addMethod</code>åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å› YESï¼Œå°±å¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥ã€‚<br>2.è¿›å…¥ forwardingTargetForSelector æ–¹æ³•ï¼Œé»˜è®¤è¿”å› nilï¼›æˆ‘ä»¬å¯ä»¥æŒ‡å®šæŸä¸ªå¯¹è±¡æ¥å“åº”æ¶ˆæ¯ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥<br>3.è¿›å…¥ methodSignatureForSelector æ–¹æ³•ï¼Œé»˜è®¤è¿”å› nilï¼›æˆ‘ä»¬å¯ä»¥è¿”å›ä¸€ä¸ª methodSignatureï¼Œè¿›å…¥ forwardInvocation,ç„¶åä¿®æ”¹å®ç°æ–¹æ³•ã€å“åº”å¯¹è±¡ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;runtime&quot;&gt;&lt;a href=&quot;#runtime&quot; class=&quot;headerlink&quot; title=&quot;runtime&quot;&gt;&lt;/a&gt;runtime&lt;/h3&gt;&lt;p&gt;runtime è§£é‡Šæˆä¸­æ–‡å°±æ˜¯[è¿è¡Œæ—¶]ï¼Œæ˜¯ OC è¯­è¨€åŒºåˆ«äº C è¯­è¨€ï¼ˆé™æ€è¯­è¨€ï¼‰çš„åŠ¨æ€ç‰¹æ€§ã€‚C 
    
    </summary>
    
      <category term="OC" scheme="https://oahgnehzoul.github.io/categories/OC/"/>
    
    
      <category term="åŸºç¡€" scheme="https://oahgnehzoul.github.io/tags/%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¹ ä½¿ç”¨ blog</title>
    <link href="https://oahgnehzoul.github.io/2016/02/23/%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8-blog/"/>
    <id>https://oahgnehzoul.github.io/2016/02/23/å­¦ä¹ ä½¿ç”¨-blog/</id>
    <published>2016-02-22T18:20:46.000Z</published>
    <updated>2016-10-26T05:53:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>ã€€ã€€çœ‹äº†<a href="http://blog.devtang.com/2016/02/16/from-octopress-to-hexo/" target="_blank" rel="external">ä»Octopressè¿ç§»åˆ°Hexo</a>,ç„¶åçœ‹åˆ°ä¸‹é¢è¯„è®ºä¸­çš„<a href="http://king129.com" target="_blank" rel="external">king</a>çš„blog,è§‰å¾—æŒºæœ‰æ„æ€çš„ï¼Œçœ‹äº†äº›Hexoé…åˆGithubæ­å»ºåšå®¢çš„ä¸œè¥¿ï¼Œé€ è½®å­copyäº†ä¸€ä¸‹ï¼Œä¸€å‘¨åªèƒ½ä¼‘æ¯ä¸€å¤©çœŸçš„ä¸å¤Ÿo.oã€‚<br>ã€€ã€€Markdownå¼€å¤´ç©ºæ ¼è¾“å…¥æ³•åˆ‡æ¢ä¸ºå…¨è§’<br>ã€€ã€€ä¸»é¢˜æ˜¯æ¬äº†<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">iissnan/hexo-theme-next</a>,çœ‹ç€ç®€æ´èˆ’æœã€‚<br>ä¸ºä»€ä¹ˆCmd Markdownä¸Šä¼ ä¸ªæœ¬åœ°å›¾ç‰‡è¿˜è¦ï¿¥99/å¹´,ä¹°ä¸èµ·T.T<br>1.æ—¶é—´çœŸçš„æ˜¯ä¸ªä¸ç»ç”¨çš„ä¸œè¥¿<br>2.ä¸ºä»€ä¹ˆè¿˜æœ‰7ç¯‡è¯»ä¹¦ç¬”è®°è¦å†™?<br>3.è¿˜è¦ææ¯•ä¸šè®¾è®¡çœŸçš„å¤´ç—›</p>
<blockquote>
<p>ç¬¬ä¸€æ¬¡ç”¨è¿™ä¸ªMarkdownå†™ï¼Œæ²¡åŠæ³•.<code>sleep</code></p>
</blockquote>
<p>åˆ‡æ¢äº†ä¸€ä¸ªçœ‹ç€å¾ˆç®€æ´èˆ’æœçš„ä¸»é¢˜. 10.23</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€çœ‹äº†&lt;a href=&quot;http://blog.devtang.com/2016/02/16/from-octopress-to-hexo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä»Octopressè¿ç§»åˆ°Hexo&lt;/a&gt;,ç„¶åçœ‹åˆ°ä¸‹é¢è¯„è®ºä¸­çš„&lt;
    
    </summary>
    
    
  </entry>
  
</feed>
